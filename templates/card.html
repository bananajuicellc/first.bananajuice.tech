<!DOCTYPE html>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>{% block card_title %}{% endblock %}</title>
<link rel="stylesheet" href="/static/index.css" type="text/css">
{% for lang in translations %}
<link rel="alternate"
    hreflang="{{ lang }}"
    href="{{ translations[lang]['url'] }}">
{% endfor %}

<label for="wgf-menu-toggle" id="wgf-menu-toggle-label">
  <img src="/static/icons/menu.svg" alt="Toggle menu" id="wgf-menu-toggle-icon">
</label>
<input type="checkbox" id="wgf-menu-toggle"></input>
<div id="wgf-menu">
  <ul>
  {% for lang in translations|sort %}
    <li>
      <a href="{{ translations[lang]['url'] }}">{{ translations[lang]['name'] }}</a>
    </li>
  {% endfor %}
  </ul>
</div>

{% set is_about_card = request.endpoint.startswith('about_') %}

<div class="wgf-card">
  <div id="wgf-card-content" class="wgf-card-content">
    {% block card_body %}
    {% endblock %}
  </div>
  {% if is_about_card %}
    {# len('about_') == 6, so we remove that to get to the card #}
    <p><a href="{{ url_for(request.endpoint[6:]) }}">
      {{_('Back to the card.')}}
    </a>
  {% else %}
    <div id="wgf-next-button">
      <a href="/random-card/">
      <img id="wgf-next-button-img"
        src="/static/buttons/arrow_right.svg" alt="{{_('Get the next card.')}}">
      </a>
    </div>
    <p><a href="{{ url_for('about_' + request.endpoint) }}">
      {{_('About this card.')}}
    </a>
  {% endif %}
</div>

<div class="footer">
  <!--
    TODO: Add links to help translate and contribute to this open-source
        project.
        See: https://github.com/bananajuicellc/who-goes-first/issues/22
  -->
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '{{ google_analytics_id }}', 'auto');
  ga('send', 'pageview');
</script>
